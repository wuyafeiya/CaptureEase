console.log("Popup script loaded"),document.addEventListener("DOMContentLoaded",(()=>{console.log("DOM Content Loaded")}));const e={async init(){chrome.commands.getAll((e=>{const t=e.find((e=>"print-shortcut"===e.name)),n=navigator.platform.toUpperCase().indexOf("MAC")>=0;t&&t.shortcut?document.getElementById("shortcut").value=t.shortcut:document.getElementById("shortcut").value=n?"Command+Shift+S":"Ctrl+Shift+S"})),document.getElementById("editShortcut").addEventListener("click",(()=>{chrome.tabs.create({url:"chrome://extensions/shortcuts"}),window.close()}))}},t={init(){document.getElementById("fullscreen").addEventListener("click",(()=>{chrome.runtime.sendMessage({action:"captureVisible"}),window.close()})),document.getElementById("area").addEventListener("click",(()=>{chrome.tabs.query({active:!0,currentWindow:!0},(async e=>{try{chrome.runtime.sendMessage({action:"print-shortcut"}),window.close()}catch(e){console.error("初始化截图失败:",e)}}))}))}};document.addEventListener("DOMContentLoaded",(async()=>{await e.init(),t.init()}));
